<!DOCTYPE html>
<html lang="ar">
<head><meta charset="UTF-8"><title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title></head>
<body>
<h2>ğŸ” Ø¯Ø®ÙˆÙ„ Cosmic</h2>
<input id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯">
<input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
<button onclick="google()">Google</button>
<a href="reset.html">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a>

<script type="module">
import { auth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "../js/auth/firebase.js";
import { saveUser } from "../js/auth/session.js";

window.login = async ()=>{
 const email=email.value, pass=password.value;
 const res=await signInWithEmailAndPassword(auth,email,pass);
 saveUser({uid:res.user.uid,email,role:"user"});
 location.href="/pages/index.html";
}
window.google = async ()=>{
 const provider=new GoogleAuthProvider();
 const res=await signInWithPopup(auth,provider);
 saveUser({uid:res.user.uid,email:res.user.email,role:"user"});
 location.href="/pages/index.html";
}
</script>
</body>
</html>
